{% extends 'base.html' %}
{% load static %}
{%load crispy_forms_tags %} 
{% block content %}



<section class="section-content padding-y bg">
    <div class="container">
    
    <!-- ============================ COMPONENT 1 ================================= -->
    
    <div class="row">
        
        <aside class="col-lg-12">
    
            <div class="card">
            <div class="card-body">
              
               
            <h4 class="card-title mb-4"  >Add Address</h4>
            <form action="{% url 'add_address' %}" id="addAddressForm" method="POST" >
                {% csrf_token %}
                {{form|crispy}}
                    
                    <button type="submit" class="btn btn-primary mt-3">Add</button>
                    </form>
            </div> <!-- card-body.// -->
            </div> <!-- card.// -->
    
    </aside> <!-- col.// -->

    
    </div> <!-- row.// -->
   
    <!-- ============================ COMPONENT 1 END .// ================================= -->
    
    </div> <!-- container .//  -->
    </section>
  
    <script>

        $('#addAddressForm').validate({
        rules:{
            first_name:{
                required:true,
                minlength:3,
                },
            last_name:{
                required:true,
                minlength:1,
                },
            email:{
                required:true,
                email:true,
            },
            mobile:{
                required:true,
                digits:true,
                minlength:10,
                maxlength:10.
            },
            address_line_1:{
                required:true,
                minlength:5,
            },
            address_line_2:{
                required:true,
                
            },
            city:{
                required:true,        
            },
            district:{
                required:true,        
            },
            state:{
                required:true,        
            },
            country:{
                required:true,        
            },
            pincode:{
                required:true,        
            },
        
        },
        messages:{
            first_name:{
                required:"Enter your First name.",
                minlength:"Minimum 3 characters required.",
                },
            last_name:{
                required:"Enter your Last name",
                minlength:"Minimum 1 characters required.",
                },
            email:{
                required:"Enter your Email ID",
                email:"Please enter a valid Email.",
            },
            mobile:{
                required:"Enter your Mobile Number",
                digits:"Only numbers allowed.",
                minlength:"10 digits needed",
                maxlength:"Maximum 10 digits allowed.",
            },
            address_line_1:{
                required:"Address required.",
                minlength:"Need at least 5 characters.",
            },
            address_line_2:{
                required:"Address required.",
                
            },city:{
                required:"Enter City name",        
            },
            district:{
                required:"Enter District name",        
            },
            state:{
                required:"Enter State name",        
            },
            country:{
                required:"Enter Country name",        
            },
            pincode:{
                required:"Enter Pincode",        
            },
        
        },
        })
        
        $('#id_mobile').keyup(validateMaxLength);
        function validateMaxLength(){
                var text = $(this).val();
                var maxlength = 10;
                if(maxlength > 0)  
                {
                        $(this).val(text.substr(0, maxlength)); 
                }
        }
            </script>
{% endblock %}