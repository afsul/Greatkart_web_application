{% extends 'base.html' %}


{% block content %}

<section class="section-conten padding-y bg">

{% include 'includes/alerts.html' %}
<div class="container">
	<div class="row">
{% include 'includes/dashboard_sidebar.html' %}
		<main class="col-md-9">
		<article class="card">
		<header class="card-header">
			<strong class="d-inline-block mr-3">Edit your profile</strong>

		</header> 
		<div class="card-body">
			
			<div class="row">
			<div class="col-md-12">
				<form action="{% url 'edit_profile' %}" id="editProfileForm" method="POST" enctype="multipart/form-data">
					{% csrf_token %}
					<div class="form-row">
						<div class="form-group col-md-6">
							<label>First Name</label>
							{{user_form.first_name}}
						</div>
						<div class="form-group col-md-6">
							<label>Last Name</label>
							{{user_form.last_name}}
						</div>
					</div>
					<div class="form-row">
						<div class="form-group col-md-6">
							<label>Phone Number</label>
							{{user_form.phone_number}}
						</div>
						
					</div>
					<div class="form-group">
						<label>Address Line 1</label>
						{{profile_form.address_line_1}}
					</div>
					<div class="form-group">
						<label>Address Line 2</label>
						{{profile_form.address_line_2}}
					</div>
					<div class="form-row">
						<div class="form-group col-md-4">
							<label>City</label>
							{{profile_form.city}}
						</div>
						<div class="form-group col-md-4">
							<label>State</label>
							{{profile_form.state}}
						</div>
						<div class="form-group col-md-4">
							<label>Country</label>
							{{profile_form.country}} 
						</div>
					</div>
					<input type="submit" value="Save" class="btn btn-primary">
				</form>
			</div>

			</div> <!-- row.// -->
		</div> <!-- card-body .// -->

		</article> <!-- order-group.// -->
	</main>
</div> <!-- row.// -->
</div>


</section>

<script>


	$('#editProfileForm').validate({
	rules:{
		first_name:{
			required:true,
			minlength:3,
			},
		last_name:{
			required:true,
			minlength:1,
			},
		email:{
			required:true,
			email:true,
		},
		phone_number:{
			required:true,
			digits:true,
			minlength:10,
			maxlength:10.
		},
		address_line_1:{
			required:true,
			minlength:5,
		},
		address_line_2:{
			required:true,
			
		},
		city:{
			required:true,        
		},
		district:{
			required:true,        
		},
		state:{
			required:true,        
		},
		country:{
			required:true,        
		},
		pincode:{
			required:true,        
		},
	
	},
	messages:{
		first_name:{
			required:"Enter your First name.",
			minlength:"Minimum 3 characters required.",
			},
		last_name:{
			required:"Enter your Last name",
			minlength:"Minimum 1 characters required.",
			},
		email:{
			required:"Enter your Email ID",
			email:"Please enter a valid Email.",
		},
		phone_number:{
			required:"Enter your Mobile Number",
			digits:"Only numbers allowed.",
			minlength:"10 digits needed",
			maxlength:"Maximum 10 digits allowed.",
		},
		address_line_1:{
			required:"Address required.",
			minlength:"Need at least 5 characters.",
		},
		address_line_2:{
			required:"Address required.",
			
		},city:{
			required:"Enter City name",        
		},
		district:{
			required:"Enter District name",        
		},
		state:{
			required:"Enter State name",        
		},
		country:{
			required:"Enter Country name",        
		},
		pincode:{
			required:"Enter Pincode",        
		},
	
	},
	})
	
	$('#id_phone_number').keyup(validateMaxLength);
	function validateMaxLength(){
			var text = $(this).val();
			var maxlength = 10;
			if(maxlength > 0)  
			{
					$(this).val(text.substr(0, maxlength)); 
			}
	}
	
		</script>

{% endblock %}