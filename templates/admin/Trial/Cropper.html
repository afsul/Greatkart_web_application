<!DOCTYPE HTML>
<html lang="en">
    {% extends 'base.html' %}
{% load static %}
<!-- Mirrored from www.ecommerce-admin.com/demo/page-form-product-1.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Sep 2021 07:00:41 GMT -->
{%  block content %}
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<title>Sample title - Ecommerce admin dashboard template</title>

	<link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">

	<link href="{% static 'css/bootstrapf9e3.css?v=1.1' %}" rel="stylesheet" type="text/css" />

	<link rel="stylesheet" href="{% static 'fonts/material-icon/css/round.css' %}" />

	<!-- custom style -->
	<link href="{% static 'css/uif9e3.css?v=1.1' %}" rel="stylesheet" type="text/css" />
	<link href="{% static 'css/responsivef9e3.css?v=1.1' %}" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/2.3.4/cropper.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>



</head>

<body>

	<style>
		.page {
			margin: 1em auto;
			max-width: 768px;
			display: flex;
			align-items: flex-start;
			flex-wrap: wrap;
			height: 100%;
		}

		.box {
			padding: 0.5em;
			width: 100%;
			margin: 0.5em;
		}

		.box-2 {
			padding: 0.5em;
			width: calc(100%/2 - 1em);
		}

		.options label,
		.options input {
			width: 4em;
			padding: 0.5em 1em;
		}

		.btn {
			background: white;
			color: black;
			border: 1px solid black;
			padding: 0.5em 1em;
			text-decoration: none;
			margin: 0.8em 0.3em;
			display: inline-block;
			cursor: pointer;
		}

		.hide {
			display: none;
		}

		img {
			max-width: 100%;
		}
	</style>



	<section class="content-main" style="max-width: 720px">

		<div class="content-header">
			<h2 class="content-title">Create product </h2>

		</div>

		<div class="card mb-4">
			<div class="card-body">



				<form action="{% url 'add_product' %}" , method="POST" , enctype="multipart/form-data">
                {% csrf_token %}

					<div class="mb-4">
						<label for="product_name" class="form-label">Product title</label>

						<input type="text" required placeholder="Type here" name="title" class="form-control"
							id="product_name">
					</div>

					<div class="mb-4">
						<label class="form-label">Full description</label>
						<input required placeholder="Type here" name="desc" class="form-control" rows="4">
					</div>





					<div class="mb-4">
						<h4 class="title"> Image 1</h4>
						<div class="fileinput fileinput-new text-center">
							<div class="fileinput-new thumbnail">
								<img src=" "
									style="width: 200px; height: 200px;  display: none;  box-shadow: 5px 5px 10px #888888; "
									id="chekPreview1">
							</div>
							<div>

								<input type="file" class="form-control" id="image1"
									accept="image/gif, image/jpeg, image/png" onchange="return fileValidation()"
									required />
								<textarea name="image1" id="imageValue1" cols="30" rows="10" hidden></textarea>
								</span>
							</div>
						</div>
					</div>



					<script>


						function fileValidation() {
							var fileInput =
								document.getElementById('image1');


							document.getElementById('chekPreview1').style.display = block


							var filePath = fileInput.value;

							// Allowing file type
							var allowedExtensions =
								/(\.jpg|\.jpeg|\.png|\.)$/i;

							if (!allowedExtensions.exec(filePath)) {
								Swal.fire('Invalid file type')
								fileInput.value = '';
								return false;
							}
							else {

								// Image preview
								if (fileInput.files && fileInput.files[0]) {
									var reader = new FileReader();
									reader.onload = function (e) {
										document.getElementById(
											'imagePreview').innerHTML =
											'<img src="' + e.target.result
											+ '"/>';
									};

									reader.readAsDataURL(fileInput.files[0]);
								}
							}
						}


					</script>

					<script>


						function fileValidation2() {
							var fileInput =
								document.getElementById('image2');

							var filePath = fileInput.value;

							// Allowing file type
							var allowedExtensions =
								/(\.jpg|\.jpeg|\.png|\.)$/i;

							if (!allowedExtensions.exec(filePath)) {
								Swal.fire('Invalid file type')
								fileInput.value = '';
								return false;
							}
							else {

								// Image preview
								if (fileInput.files && fileInput.files[0]) {
									var reader = new FileReader();
									reader.onload = function (e) {
										document.getElementById(
											'imagePreview').innerHTML =
											'<img src="' + e.target.result
											+ '"/>';
									};

									reader.readAsDataURL(fileInput.files[0]);
								}
							}
						}


					</script>
					<script>


						function fileValidation3() {
							var fileInput =
								document.getElementById('image3');

							var filePath = fileInput.value;

							// Allowing file type
							var allowedExtensions =
								/(\.jpg|\.jpeg|\.png|\.)$/i;

							if (!allowedExtensions.exec(filePath)) {
								Swal.fire('Invalid file type')
								fileInput.value = '';
								return false;
							}
							else {

								// Image preview
								if (fileInput.files && fileInput.files[0]) {
									var reader = new FileReader();
									reader.onload = function (e) {
										document.getElementById(
											'imagePreview').innerHTML =
											'<img src="' + e.target.result
											+ '"/>';
									};

									reader.readAsDataURL(fileInput.files[0]);
								}
							}
						}


					</script>
					<script>


						function fileValidation4() {
							var fileInput =
								document.getElementById('image4');

							var filePath = fileInput.value;

							// Allowing file type
							var allowedExtensions =
								/(\.jpg|\.jpeg|\.png|\.)$/i;

							if (!allowedExtensions.exec(filePath)) {
								Swal.fire('Invalid file type')
								fileInput.value = '';
								return false;
							}
							else {

								// Image preview
								if (fileInput.files && fileInput.files[0]) {
									var reader = new FileReader();
									reader.onload = function (e) {
										document.getElementById(
											'imagePreview').innerHTML =
											'<img src="' + e.target.result
											+ '"/>';
									};

									reader.readAsDataURL(fileInput.files[0]);
								}
							}
						}


					</script>




					<div class="mb-4">
						<h4 class="title"> Image 2</h4>
						<div class="fileinput fileinput-new text-center">
							<div class="fileinput-new thumbnail">
								<img src=" "
									style="width: 200px; height: 200px;  display: none;  box-shadow: 5px 5px 10px #888888; "
									id="chekPreview2">
							</div>


							<div>


								<input type="file" class="form-control" id="image2"
									accept="image/gif, image/jpeg, image/png" onchange="return fileValidation2()"
									required />
								<textarea name="image2" id="imageValue2" cols="30" rows="10" hidden></textarea>
								</span>
							</div>
						</div>
					</div>


					<div class="mb-4">
						<h4 class="title"> Image 3</h4>
						<div class="fileinput fileinput-new text-center">
							<div class="fileinput-new thumbnail">
								<img src=" "
									style="width: 200px; height: 200px;  display: none;  box-shadow: 5px 5px 10px #888888; "
									id="chekPreview3">

							</div>
							<div>


								<input type="file" class="form-control" id="image3"
									accept="image/gif, image/jpeg, image/png" onchange="return fileValidation3()"
									required />
								<textarea name="image3" id="imageValue3" cols="30" rows="10" hidden></textarea>
								</span>
							</div>
						</div>
					</div>

					
					<div class="mb-4">
						<h4 class="title"> Image 4</h4>
						<div class="fileinput fileinput-new text-center">
							<div class="fileinput-new thumbnail">
								<img src=" "
									style="width: 200px; height: 200px;  display: none;  box-shadow: 5px 5px 10px #888888; "
									id="chekPreview4">

							</div>
							<div>


								<input type="file" class="form-control" id="image4"
									accept="image/jpg, image/jpeg, image/png" onchange="return fileValidation4()"
									required />
								<textarea name="image4" id="imageValue4" cols="30" rows="10" hidden></textarea>
								</span>
							</div>
						</div>
					</div>







					<div class="mb-4">
						<label for="product_name" class="form-label">Tags</label>
						<input required type="text" name="tags" class="form-control">
					</div>

					<div class="mb-4">
						<label for="product_quanity" class="form-label">quanity</label>
						<input id="form_mobile" type="number" min="1" max="100" required type="number" name="quantity"
							class="form-control">
						<span style="color: #F90A0A;" class="error_form" id="mobile_error_message"></span>
					</div>

					<div class="row gx-2">
						<div class="col-sm-6 mb-3">
							<label class="form-label">Category</label>
							<select onchange="getCat()" name="category" class="form-select" id="main">

							
							</select>

						</div>
						<div class="col-sm-6 mb-3">
							<label class="form-label">sub Category</label>
							<select name="subCategory" class="form-select" id="subcategory">



								<option>
									Nil
								</option>





							</select>
						</div>




						<div class="mb-4">
							<label class="form-label">Price</label>
							<div class="row gx-2">
								<div class="col-4">
									<input required name="price" placeholder="Type" type="number" class="form-control">
								</div>

							</div> <!-- row.// -->
						</div>



						<button type="submit" class="btn btn-primary">Submit item</button>

				</form>
			</div>
		</div> <!-- card end// -->


	</section> <!-- content-main end// -->
	</main>







	<div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="img-container">
						<div class="row">
							<div class="col-md-8" style="height:300px;width:200px;">
								<img src="" id="sampleImage1" style="width:100px; height:100px" />
							</div>
							<div class="col-md-4">
								<div class="preview" id="preview1"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">

					<button type="button" id="crop1" class="btn btn-primary">Crop</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

				</div>
			</div>
		</div>
	</div>
	<!-- Modal  1 end-->



	<!-- Modal 2-->
	<div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="img-container">
						<div class="row">
							<div class="col-md-8" style="height:300px;width:200px;">
								<img src="" id="sampleImage2" style="width:200px; height:100px;" />
							</div>
							<div class="col-md-4">
								<div class="preview" id="preview2"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">

					<button type="button" id="crop2" class="btn btn-primary">Crop</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

				</div>
			</div>
		</div>
	</div>
	<!-- Modal  2 end-->


	<!-- Modal 3-->
	<div class="modal fade" id="modal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="img-container">
						<div class="row">
							<div class="col-md-8" style="height:300px;width:200px;">
								<img src="" id="sampleImage3" />
							</div>
							<div class="col-md-4">
								<div class="preview" id="preview3"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">

					<button type="button" id="crop3" class="btn btn-primary">Crop</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

				</div>
			</div>
		</div>
	</div>
	<!-- Modal  3 end-->

	<!-- Modal 4-->
	<div class="modal fade" id="modal4" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Crop Image Here</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="img-container">
						<div class="row">
							<div class="col-md-8" style="height:300px;width:200px;">
								<img src="" id="sampleImage4" />
							</div>
							<div class="col-md-4">
								<div class="preview" id="preview4"></div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">

					<button type="button" id="crop4" class="btn btn-primary">Crop</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

				</div>
			</div>
		</div>
	</div>





	<!-- //cropper script.. -->

	<script>
		$('document').ready(function () {



			var image1 = document.getElementById('sampleImage1');
			var modal1 = $('#modal1');
			var cropper1;

			$('#image1').change(function (event) {
				var files = event.target.files;

				var done = function (url) {
					image1.src = url;
					modal1.modal('show');
				};

				if (files && files.length > 0) {
					reader = new FileReader();
					reader.onload = function (event) {
						done(reader.result);
					};
					reader.readAsDataURL(files[0]);
				}
			});

			modal1.on('shown.bs.modal', function () {
				cropper1 = new Cropper(image1, {
					aspectRatio: 3 / 4,
					viewMode: 1,
					preview: '#preview1'
				});
			}).on('hidden.bs.modal', function () {
				cropper1.destroy();
				cropper1 = null;
			});

			$('#crop1').click(function () {
				canvas = cropper1.getCroppedCanvas({
					width: 850,
					height: 995
				});

				canvas.toBlob(function (blob) {
					url = URL.createObjectURL(blob);
					var reader = new FileReader();
					reader.readAsDataURL(blob);
					reader.onloadend = function () {
						var base64data = reader.result;
						modal1.modal('hide');
						$("#imageValue1").val(base64data)
						$('#chekPreview1').attr('src', base64data);
						document.getElementById('chekPreview1').style.display = 'block'
					};
				});
			});




			//modal2 and image 2
			var image2 = document.getElementById('sampleImage2');
			var modal2 = $('#modal2');
			var cropper2;

			$('#image2').change(function (event) {
				var files = event.target.files;

				var done = function (url) {
					image2.src = url;
					modal2.modal('show');
				};

				if (files && files.length > 0) {
					reader = new FileReader();
					reader.onload = function (event) {
						done(reader.result);
					};
					reader.readAsDataURL(files[0]);
				}
			});

			modal2.on('shown.bs.modal', function () {
				cropper2 = new Cropper(image2, {
					aspectRatio: 3 / 4,
					viewMode: 2,
					preview: '#preview2'
				});
			}).on('hidden.bs.modal', function () {
				cropper2.destroy();
				cropper2 = null;
			});

			$('#crop2').click(function () {
				canvas = cropper2.getCroppedCanvas({
					width: 850,
					height: 995
				});

				canvas.toBlob(function (blob) {
					url = URL.createObjectURL(blob);
					var reader = new FileReader();
					reader.readAsDataURL(blob);
					reader.onloadend = function () {
						var base64data = reader.result;
						modal2.modal('hide');
						$("#imageValue2").val(base64data)
						$('#chekPreview2').attr('src', base64data);
						document.getElementById('chekPreview2').style.display = 'block'
					};
				});
			});
			//image 2 and modal 2 end


			//modal3 and image 3 start
			var image3 = document.getElementById('sampleImage3');
			var modal3 = $('#modal3');
			var cropper3;

			$('#image3').change(function (event) {
				var files = event.target.files;

				var done = function (url) {
					image3.src = url;
					modal3.modal('show');
				};

				if (files && files.length > 0) {
					reader = new FileReader();
					reader.onload = function (event) {
						done(reader.result);
					};
					reader.readAsDataURL(files[0]);
				}
			});

			modal3.on('shown.bs.modal', function () {
				cropper3 = new Cropper(image3, {
					aspectRatio: 3 / 4,
					viewMode: 1,
					preview: '#preview3'
				});
			}).on('hidden.bs.modal', function () {
				cropper3.destroy();
				cropper3 = null;
			});

			$('#crop3').click(function () {
				canvas = cropper3.getCroppedCanvas({
					width: 850,
					height: 995
				});

				canvas.toBlob(function (blob) {
					url = URL.createObjectURL(blob);
					var reader = new FileReader();
					reader.readAsDataURL(blob);
					reader.onloadend = function () {
						var base64data = reader.result;
						modal3.modal('hide');
						$("#imageValue3").val(base64data)
						$('#chekPreview3').attr('src', base64data);
						document.getElementById('chekPreview3').style.display = 'block'
					};
				});
			});
			//image 3 and modal 3 end

			//modal4 and image 4 start
			var image4 = document.getElementById('sampleImage4');
			var modal4 = $('#modal4');
			var cropper4;

			$('#image4').change(function (event) {
				var files = event.target.files;

				var done = function (url) {
					image4.src = url;
					modal4.modal('show');
				};

				if (files && files.length > 0) {
					reader = new FileReader();
					reader.onload = function (event) {
						done(reader.result);
					};
					reader.readAsDataURL(files[0]);
				}
			});

			modal4.on('shown.bs.modal', function () {
				cropper4 = new Cropper(image4, {
					aspectRatio: 3 / 4,
					viewMode: 2,
					preview: '#preview4'
				});
			}).on('hidden.bs.modal', function () {
				cropper4.destroy();
				cropper4 = null;
			});

			$('#crop4').click(function () {
				canvas = cropper4.getCroppedCanvas({
					width: 850,
					height: 995
				});

				canvas.toBlob(function (blob) {
					url = URL.createObjectURL(blob);
					var reader = new FileReader();
					reader.readAsDataURL(blob);
					reader.onloadend = function () {
						var base64data = reader.result;
						modal4.modal('hide');
						$("#imageValue4").val(base64data)
						$('#chekPreview4').attr('src', base64data);

						document.getElementById('chekPreview4').style.display = 'block'
					};
				});
			});
			//image 4 and modal 4 end

		});



	</script>



	<script>

		$(function () {




			$("#mobile_error_message").hide();

			var error_mobile = false;

			//    var error_pass = false;

			$("#form_mobile").keyup(function () { check_mobile(); });


			var flag = 0;






			function check_mobile() {
				var pattern = /[1-4]/g
				var mobile = $("#form_mobile").val();
				if (pattern.test(mobile) && mobile !== '') {
					$("#mobile_error_message").hide();
					$("#form_mobile").css("border-bottom", "1px solid #34F458");
					flag = 0;
				} else {
					$("#mobile_error_message").html("Invalid Quantity");
					$("#mobile_error_message").show();
					$("#form_mobile").css("border-bottom", "1px solid #F90A0A");
					error_mobile = true;
					flag = 1;
				}
			}



		});


//  validation 

	</script>








	<script>


		function getCat() {


			let category = $('#main').val()

			$.ajax({
				url: '/admin/getSubCategory',
				method: "post",
				data: { category: category },
				success: (data) => {

					console.log(" data got inside success ajax", data);

					$('#subcategory').find('option').remove()


					for (var i = 0; i < data.length; i++) {


						$('#subcategory').append('<option>' + data[i] + '</option>')
					}
				}
			})

		}


	</script>

	<script src="{% static 'js/jquery-3.5.0.min.js' %}"></script>
	<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

	<!-- Custom JS -->
	<script src="{% static 'js/scriptc619.js?v=1.0' %}"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/0.8.1/cropper.min.js"></script>

	<script>
		if (localStorage.getItem("darkmode")) {
			var body_el = document.body;
			body_el.className += 'dark';
		}
	</script>

</body>

</html>
{% endblock %}